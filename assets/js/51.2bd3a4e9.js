(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{381:function(n,s,t){"use strict";t.r(s);var a=t(8),e=Object(a.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h3",{attrs:{id:"_1-yum安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-yum安装"}},[n._v("#")]),n._v(" 1. yum安装")]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#添加源")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("rpm")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-Uvh")]),n._v(" http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#安装nginx")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-y")]),n._v(" nginx\n")])])]),s("p",[s("strong",[n._v("启动和停止")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#启动nginx")]),n._v("\nsystemctl start nginx.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#停止")]),n._v("\nsystemctl stop nginx.service\n")])])]),s("p",[n._v("在使用 "),s("code",[n._v("yum install -y nginx")]),n._v(" 命令安装 Nginx 后，通常情况下，Nginx 的各个目录及主要文件位于以下位置：")]),n._v(" "),s("ol",[s("li",[s("strong",[n._v("配置文件目录")]),n._v("：\n"),s("ul",[s("li",[s("code",[n._v("/etc/nginx")]),n._v("：Nginx 的配置文件所在目录。")]),n._v(" "),s("li",[s("code",[n._v("/etc/nginx/nginx.conf")]),n._v("：Nginx 主配置文件，包含全局配置和引入其他配置文件的指令。")])])]),n._v(" "),s("li",[s("strong",[n._v("网站根目录")]),n._v("：\n"),s("ul",[s("li",[n._v("默认情况下，Nginx 的网站根目录可以在配置文件中指定，通常位于 "),s("code",[n._v("/usr/share/nginx/html")]),n._v(" 或 "),s("code",[n._v("/var/www/html")]),n._v("。")])])]),n._v(" "),s("li",[s("strong",[n._v("日志文件目录")]),n._v("：\n"),s("ul",[s("li",[s("code",[n._v("/var/log/nginx")]),n._v("：Nginx 的日志文件所在目录。")]),n._v(" "),s("li",[s("code",[n._v("/var/log/nginx/access.log")]),n._v("：Nginx 的访问日志文件，记录所有访问请求的信息。")]),n._v(" "),s("li",[s("code",[n._v("/var/log/nginx/error.log")]),n._v("：Nginx 的错误日志文件，记录服务器运行过程中的错误信息。")])])]),n._v(" "),s("li",[s("strong",[n._v("站点配置文件目录")]),n._v("：\n"),s("ul",[s("li",[s("code",[n._v("/etc/nginx/conf.d")]),n._v("：Nginx 的站点配置文件所在目录，通常包含一个或多个以 "),s("code",[n._v(".conf")]),n._v(" 结尾的配置文件，每个文件对应一个站点或应用的配置。")])])]),n._v(" "),s("li",[s("strong",[n._v("其他目录")]),n._v("：\n"),s("ul",[s("li",[s("code",[n._v("/usr/lib/systemd/system")]),n._v("：Systemd 单元文件目录，包含 Nginx 的 Systemd 服务单元文件，用于管理 Nginx 的启动、停止和状态等操作。")])])])]),n._v(" "),s("p",[n._v("请注意，这些目录位置可能会因操作系统版本、Nginx 版本和自定义配置而有所不同。在实际安装过程中，可以通过查看文档或执行命令来确认确切的目录位置")]),n._v(" "),s("h3",{attrs:{id:"_2-源码安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-源码安装"}},[n._v("#")]),n._v(" 2. 源码安装")]),n._v(" "),s("p",[n._v("现在以nginx-1.22.1.tar.gz为例"),s("a",{attrs:{href:"https://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("官网下载"),s("OutboundLink")],1)]),n._v(" "),s("p",[s("strong",[n._v("安装依赖环境(若安装则跳过此步骤)")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#若无wget命令(有则跳过此步骤)")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-y")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("wget")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx编译需要依赖gcc环境")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" gcc-c++\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx的http模块使用pcre来解析正则表达式")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-y")]),n._v(" pcre pcre-devel\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx的http模块使用pcre来解析正则表达式")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-y")]),n._v(" zlib zlib-devel\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx支持的https协议需要ssl加密")]),n._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-y")]),n._v(" openssl openssl-devel\n")])])]),s("p",[s("strong",[n._v("下载和编译")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#下载源码文件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("wget")]),n._v(" https://nginx.org/download/nginx-1.22.1.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#解压文件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("tar")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-zxvf")]),n._v(" nginx-1.22.1.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#进入nginx-1.22.1目录")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" nginx-1.22.1\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#执行以下命令编译nginx")]),n._v("\n./configure\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("make")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("make")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#完成后可在/usr/local/nginx目录找到相关文件")]),n._v("\n\n")])])]),s("p",[s("strong",[n._v("启动和停止")])]),n._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#启动nginx")]),n._v("\n/usr/local/nginx/sbin/nginx\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#停止nginx")]),n._v("\n/usr/local/nginx/sbin/nginx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-s")]),n._v(" stop\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);